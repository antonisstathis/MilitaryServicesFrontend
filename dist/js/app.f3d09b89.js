(function(){var e={2096:function(e,t,n){var a={"./el.json":4524,"./en.json":4174};function r(e){return Promise.resolve().then((function(){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}var r=a[e];return n.t(r,19)}))}r.keys=function(){return Object.keys(a)},r.id=2096,e.exports=r},4174:function(e){"use strict";e.exports=JSON.parse('{"element.home":"Home","element.personnel":"Personnel","element.soldiers":"Soldiers","element.services":"Services","element.newservices":"New Services","element.servicesofunit":"Services Of Unit","element.lastservices":"Last Services","element.logout":"Logout","serofunitelement.addservices":"Add Services","serofunitelement.deleteservices":"Delete Services","serofunitelement.currentservices":"Current Services","serofunitelement.back":"Back","serofunit.service":"Service","serofunit.Armed":"Armed","serofunit.Description":"Description","serofunit.Shift":"Shift","prevcalc.registration":"Registration Number","prevcalc.company":"Company","prevcalc.name":"Name","prevcalc.surname":"Surname","prevcalc.situation":"Situation","prevcalc.active":"Active","prevcalc.service":"Service","prevcalc.date":"Date","prevcalc.armed":"Armed","prevcalc.dutystatus":"Duty Status","lastcalc.company":"Company","lastcalc.name":"Name","lastcalc.surname":"Surname","lastcalc.situation":"Situation","lastcalc.active":"Active","lastcalc.service":"Service","lastcalc.date":"Date","lastcalc.armed":"Armed"}')},4524:function(e){"use strict";e.exports=JSON.parse('{"element.home":"Î‘ÏÏ‡Î¹ÎºÎ®","element.personnel":"Î ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÏŒ","element.soldiers":"Î£Ï„ÏÎ±Ï„Î¹ÏŽÏ„ÎµÏ‚","element.services":"Î¥Ï€Î·ÏÎµÏƒÎ¯ÎµÏ‚","element.newservices":"ÎÎ­ÎµÏ‚ Î¥Ï€Î·ÏÎµÏƒÎ¯ÎµÏ‚","element.servicesofunit":"Î¥Ï€Î·ÏÎµÏƒÎ¯ÎµÏ‚ ÎœÎ¿Î½Î¬Î´Î±Ï‚","element.lastservices":"Î¤ÎµÎ»ÎµÏ…Ï„Î±Î¯ÎµÏ‚ Ï…Ï€Î·ÏÎµÏƒÎ¯ÎµÏ‚","element.logout":"Î‘Ï€Î¿ÏƒÏÎ½Î´ÎµÏƒÎ·","serofunitelement.addservices":"Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Î¥Ï€Î·ÏÎµÏƒÎ¯Î±Ï‚","serofunitelement.deleteservices":"Î”Î¹Î±Î³ÏÎ±Ï†Î® Î¥Ï€Î·ÏÎµÏƒÎ¹ÏŽÎ½","serofunitelement.currentservices":"Î¤ÏÎ­Ï‡Î¿Ï…ÏƒÎµÏ‚ Î¥Ï€Î·ÏÎµÏƒÎ¯ÎµÏ‚","serofunitelement.back":"Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î®","serofunit.service":"Î¥Ï€Î·ÏÎµÏƒÎ¯Î±","serofunit.Armed":"ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î± Î¥Ï€Î·ÏÎµÏƒÎ¯Î±Ï‚","serofunit.Description":"Î ÎµÏÎ¹Î³ÏÎ±Ï†Î®","serofunit.Shift":"ÎÏÎµÏ‚","prevcalc.registration":"Î‘Î£Îœ","prevcalc.company":"Î›ÏŒÏ‡Î¿Ï‚","prevcalc.name":"ÎŒÎ½Î¿Î¼Î±","prevcalc.surname":"Î•Ï€ÏŽÎ½Ï…Î¼Î¿","prevcalc.situation":"Î™ÎºÎ±Î½ÏŒÏ„Î·Ï„Î±","prevcalc.active":"ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· Î£Ï„ÏÎ±Ï„Î¹ÏŽÏ„Î·","prevcalc.service":"Î¥Ï€Î·ÏÎµÏƒÎ¯Î±","prevcalc.date":"Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±","prevcalc.armed":"ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î± Î¥Ï€Î·ÏÎµÏƒÎ¯Î±Ï‚","prevcalc.dutystatus":"Î”Î¹Î±Î¸ÎµÏƒÎ¹Î¼ÏŒÏ„Î·Ï„Î±","lastcalc.company":"Î›ÏŒÏ‡Î¿Ï‚","lastcalc.name":"ÎŒÎ½Î¿Î¼Î±","lastcalc.surname":"Î•Ï€ÏŽÎ½Ï…Î¼Î¿","lastcalc.situation":"Î™ÎºÎ±Î½ÏŒÏ„Î·Ï„Î±","lastcalc.active":"ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· Î£Ï„ÏÎ±Ï„Î¹ÏŽÏ„Î·","lastcalc.service":"Î¥Ï€Î·ÏÎµÏƒÎ¯Î±","lastcalc.date":"Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±","lastcalc.armed":"ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î± Î¥Ï€Î·ÏÎµÏƒÎ¯Î±Ï‚","soldierdto.active":"ÎµÎ½ÎµÏÎ³ÏŒÏ‚","soldierdto.freeofduty":"ÎµÎ»ÎµÏÎ¸ÎµÏÎ¿Ï‚ Ï…Ï€Î·ÏÎµÏƒÎ¯Î±Ï‚","soldierdto.armed":"Î­Î½Î¿Ï€Î»Î¿Ï‚","soldierdto.unarmed":"Î¬Î¿Ï€Î»Î¿Ï‚","soldierdto.armedser":"Î­Î½Î¿Ï€Î»Î·","soldierdto.unarmedser":"Î¬Î¿Ï€Î»Î·","soldierdto.onduty":"ÎµÎ½ Ï…Ï€Î·ÏÎµÏƒÎ¯Î±","soldierdto.discharged":"Î±Ï€Î¿ÏƒÏ„ÏÎ±Ï„ÎµÏ…Î¼Î­Î½Î¿Ï‚"}')},6827:function(e,t,n){"use strict";var a=n(5130),r=n(6768);function o(e,t,n,a,o,s){const l=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.Wv)(l)}var s={name:"App",components:{}},l=n(1241);const i=(0,l.A)(s,[["render",o]]);var c=i,u=n(1387),d=n(4232);const v={class:"login-container"},p={key:0,class:"error-message"};function m(e,t,n,o,s,l){return(0,r.uX)(),(0,r.CE)("div",v,[t[4]||(t[4]=(0,r.Lk)("h1",null,"Login",-1)),o.errorMessage?((0,r.uX)(),(0,r.CE)("div",p,(0,d.v_)(o.errorMessage),1)):(0,r.Q3)("",!0),(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>o.login&&o.login(...e)),["prevent"]))},[(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.username=e),placeholder:"Username",required:""},null,512),[[a.Jo,o.username]]),(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>o.password=e),placeholder:"Password",required:""},null,512),[[a.Jo,o.password]]),t[3]||(t[3]=(0,r.Lk)("button",{type:"submit"},"Login",-1))],32),t[5]||(t[5]=(0,r.Lk)("a",{href:"#"},"Forgot your password?",-1))])}n(4114);var f=n(144),g=n(4373),h={name:"LoginPage",setup(){const e=(0,u.rd)(),t=(0,f.KR)(""),n=(0,f.KR)(""),a=(0,f.KR)(""),r=(0,f.KR)(""),o=()=>{a.value?(localStorage.setItem("jwtToken",a.value),e.push("/home")):console.error("JWT Token not found in response.")},s=async()=>{try{r.value="";const e=await g.A.post("/performLogin",{username:t.value,password:n.value},{headers:{"Content-Type":"application/json"}});200===e.status?(a.value=e.data.token,o()):r.value="An error occurred. Please try again."}catch(e){console.error("Login error:",e),401===e.response?.status?r.value="Invalid username or password":r.value="An error occurred. Please try again."}};return{username:t,password:n,jwtToken:a,errorMessage:r,login:s}}};const k=(0,l.A)(h,[["render",m],["__scopeId","data-v-756f55a5"]]);var y=k;n(8111),n(2489);const b={id:"app"},S={class:"menu"},L={id:"header"},w={class:"lang-wrapper"},O={id:"table"},C=["title"],_=["onClick"];function I(e,t,n,o,s,l){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",b,[(0,r.Lk)("nav",S,[(0,r.Lk)("ul",null,[(0,r.Lk)("li",null,[(0,r.bF)(i,{to:"/home"},{default:(0,r.k6)((()=>[(0,r.eW)((0,d.v_)(o.titles.home),1)])),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(i,{to:"/personnel"},{default:(0,r.k6)((()=>[(0,r.eW)((0,d.v_)(o.titles.personnel),1)])),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(i,{to:"/soldiers"},{default:(0,r.k6)((()=>[(0,r.eW)((0,d.v_)(o.titles.soldiers),1)])),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(i,{to:"/servicesOfUnit"},{default:(0,r.k6)((()=>[(0,r.eW)((0,d.v_)(o.titles.services),1)])),_:1})])])]),(0,r.Lk)("div",L,[(0,r.Lk)("h1",null,(0,d.v_)(o.unitName),1),(0,r.Lk)("div",w,[(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.locale=e),onChange:t[1]||(t[1]=(...e)=>o.changeLanguage&&o.changeLanguage(...e)),class:"lang-select"},t[7]||(t[7]=[(0,r.Lk)("option",{value:"en"},"ðŸ‡¬ðŸ‡§ English",-1),(0,r.Lk)("option",{value:"el"},"ðŸ‡¬ðŸ‡· Î•Î»Î»Î·Î½Î¹ÎºÎ¬",-1)]),544),[[a.u1,o.locale]])]),(0,r.Lk)("button",{class:"primary-btn",onClick:t[2]||(t[2]=(...e)=>o.newServices&&o.newServices(...e))},(0,d.v_)(o.titles.newservices),1),(0,r.Lk)("button",{class:"primary-btn",onClick:t[3]||(t[3]=e=>o.navigateTo("/servicesOfUnit"))},(0,d.v_)(o.titles.servicesofunit),1),(0,r.Lk)("button",{class:"primary-btn",onClick:t[4]||(t[4]=(...e)=>o.fetchSoldiers&&o.fetchSoldiers(...e))},(0,d.v_)(o.titles.lastservices),1),(0,r.Lk)("input",{type:"date",id:"date",onChange:t[5]||(t[5]=e=>o.fetchPrevCalculation(e))},null,32),(0,r.Lk)("button",{class:"logout-btn",onClick:t[6]||(t[6]=(...e)=>o.logout&&o.logout(...e))},(0,d.v_)(o.titles.logout),1)]),(0,r.Lk)("div",O,[(0,r.Lk)("table",null,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.tableHeaders,((e,t)=>((0,r.uX)(),(0,r.CE)("th",{key:t,title:e},(0,d.v_)(e),9,C)))),128))])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.soldiers,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.token,onClick:t=>o.selectSoldier(e)},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(Object.entries(e).filter((([e])=>"token"!==e)),(([e,t])=>((0,r.uX)(),(0,r.CE)("td",{key:e},(0,d.v_)(t),1)))),128))],8,_)))),128))])])])])}n(7588),n(1701);var j={setup(){const e=(0,u.rd)(),t=(0,f.KR)(""),a=(0,f.KR)([]),o=(0,f.KR)([]),s=(0,f.KR)({}),l=(0,f.KR)(localStorage.getItem("lang")||"en");let i,c,d;(0,r.sV)((async()=>{h(),v(),y(),s.value=await m()}));const v=async()=>{try{const e=await g.A.get("getFirstCalcDate");i=new Date(e.data)}catch(t){console.error(t),401===t.response?.status&&e.push("/signIn")}},p=async()=>{localStorage.setItem("lang",l.value),c&&d&&!w(d,c)?L(d):y(),s.value=await m()},m=async()=>{const e=localStorage.getItem("lang")||"en",t=await n(2096)(`./${e}.json`),a=t.default;return Object.fromEntries(Object.entries(a).filter((([e])=>e.startsWith("element."))).map((([e,t])=>[e.slice(8),t])))},h=async()=>{try{const e=await g.A.get("getNameOfUnit");t.value=e.data}catch(n){console.error(n),401===n.response?.status&&e.push("/signIn")}},k=async e=>{const t=localStorage.getItem("lang")||"en";try{const a=await n(2096)(`./${t}.json`),r=a.default;return Object.fromEntries(Object.entries(r).filter((([t])=>t.startsWith(e+"."))))}catch(a){return console.error(`Could not load titles for language '${t}':`,a),{}}},y=async()=>{o.value=await k("lastcalc");try{const e=await g.A.get("getSoldiers",{}),t=await b(e.data);t.length&&(a.value=Object.values(t));const n=a.value[0]?.date;if(n){const e=n.split("-").reverse().join("-"),t=new Date(e);c=t,d=t,document.getElementById("date").value=t.toISOString().split("T")[0]}}catch(t){console.error(t),401===t.response?.status&&e.push("/signIn"),alert(t.response.data)}},b=async e=>{const t=localStorage.getItem("lang")||"en";if("en"===t)return e;const a=await n(2096)(`./${t}.json`),r=["soldierdto.active","soldierdto.freeofduty","soldierdto.armed","soldierdto.unarmed","soldierdto.armedser","soldierdto.unarmedser","soldierdto.onduty","soldierdto.discharged"],o=r.reduce(((e,t)=>(t in a&&(e[t.slice(11)]=a[t]),e)),{});return e.forEach((e=>{const t=["situation","active","armed","discharged"];t.forEach((t=>{const n=e[t];t in e&&(e[t]="situation"===t&&"armed"===n?o["armed"]:"situation"===t&&"unarmed"===n?o["unarmed"]:"active"===t&&"active"===n?o["active"]:"active"===t&&"free of duty"===n?o["freeofduty"]:"armed"===t&&"armed"===n?o["armedser"]:"armed"===t&&"unarmed"===n?o["unarmedser"]:"armed"===t&&"free of duty"===n?o["freeofduty"]:"discharged"===t&&"in operation"===n?o["onduty"]:"discharged"===t&&"discharged"===n?o["discharged"]:n)}))})),e},S=e=>{d=new Date(e.target.value),d<i||d>c?alert(`The date you selected is out of this period (${i},${c}.)`):p()},L=async t=>{o.value=await k("prevcalc");try{const e=await g.A.get("getPreviousCalculation",{params:{date:t}}),n=await b(e.data);n.length&&(a.value=Object.values(n))}catch(n){console.error(n),401===n.response?.status&&e.push("/signIn"),alert(n.response.data)}},w=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(),O=async()=>{try{await g.A.get("calc"),y()}catch(t){console.error(t),401===t.response?.status&&e.push("/signIn"),alert(t.response.data)}},C=async t=>{const n=localStorage.getItem("lang");try{const a=await g.A.post("getSoldier",t,{params:{lang:n}});localStorage.setItem("formData",JSON.stringify(a.data)),e.push("/soldierForm")}catch(a){console.error("Request failed:",a),401===a.response?.status&&e.push("/signIn")}},_=()=>{localStorage.clear(),e.push("/signIn")},I=t=>{e.push(t)};return{unitName:t,soldiers:a,tableHeaders:o,titles:s,locale:l,changeLanguage:p,fetchElementTitles:m,getNameOfUnit:h,fetchTableTitles:k,fetchSoldiers:y,fetchPrevCalculation:S,newServices:O,selectSoldier:C,logout:_,navigateTo:I}}};const E=(0,l.A)(j,[["render",I],["__scopeId","data-v-04e17520"]]);var A=E;const U={id:"background"},K={class:"add-container"};function N(e,t,n,o,s,l){return(0,r.uX)(),(0,r.CE)("div",U,[(0,r.Lk)("div",K,[t[10]||(t[10]=(0,r.Lk)("h1",null,"Add Soldier",-1)),(0,r.Lk)("form",{onSubmit:t[6]||(t[6]=(0,a.D$)(((...e)=>o.saveSoldier&&o.saveSoldier(...e)),["prevent"]))},[(0,r.bo)((0,r.Lk)("input",{type:"hidden","onUpdate:modelValue":t[0]||(t[0]=e=>o.soldier.id=e),placeholder:"Id",disabled:""},null,512),[[a.Jo,o.soldier.id]]),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>o.soldier.name=e),placeholder:"Name",readonly:"",required:""},null,512),[[a.Jo,o.soldier.name]]),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>o.soldier.surname=e),placeholder:"Surname",readonly:"",required:""},null,512),[[a.Jo,o.soldier.surname]]),(0,r.bo)((0,r.Lk)("select",{id:"situationSelect","onUpdate:modelValue":t[3]||(t[3]=e=>o.soldier.situation=e)},t[7]||(t[7]=[(0,r.Lk)("option",{value:"",disabled:"",selected:""},"Select an option",-1),(0,r.Lk)("option",{value:"armed"},"armed",-1),(0,r.Lk)("option",{value:"unarmed"},"unarmed",-1)]),512),[[a.u1,o.soldier.situation]]),(0,r.bo)((0,r.Lk)("select",{id:"activeSelect","onUpdate:modelValue":t[4]||(t[4]=e=>o.soldier.active=e)},t[8]||(t[8]=[(0,r.Lk)("option",{value:"",disabled:"",selected:""},"Select an option",-1),(0,r.Lk)("option",{value:"active"},"active",-1),(0,r.Lk)("option",{value:"free of duty"},"free of duty",-1)]),512),[[a.u1,o.soldier.active]]),t[9]||(t[9]=(0,r.Lk)("button",{type:"submit"},"Save",-1)),(0,r.Lk)("button",{onClick:t[5]||(t[5]=(...t)=>e.goToSoldierForm&&e.goToSoldierForm(...t)),class:"back-btn"},"Back")],32)])])}var T={setup(){const e=(0,u.rd)(),t=(0,f.KR)({id:"",name:"",surname:"",situation:"",active:""});(0,r.sV)((()=>{const n=localStorage.getItem("jwtToken");if(!n)return void e.push("/signIn");const a=localStorage.getItem("formData");a&&(t.value=JSON.parse(a),localStorage.removeItem("formData"))}));const n=async()=>{try{await g.A.post("changeSoldSituation",t.value),e.push("/home")}catch(n){console.error(n),401===n.response?.status?e.push("/signIn"):alert(n)}};return{soldier:t,saveSoldier:n}}};const R=(0,l.A)(T,[["render",N],["__scopeId","data-v-b37eee0c"]]);var F=R;const P={id:"header"},D={id:"table"},X=["title"],x=["onClick"],V={key:0,class:"popup-overlay"},W={class:"popup-content"},J={class:"popup-buttons"};function $(e,t,n,o,s,l){return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",P,[(0,r.Lk)("h1",null,(0,d.v_)(o.unitName),1),(0,r.Lk)("button",{class:"primary-btn",onClick:t[0]||(t[0]=e=>o.showPopup=!0)},(0,d.v_)(o.titles.addservices),1),(0,r.Lk)("button",{class:"primary-btn",onClick:t[1]||(t[1]=(...e)=>o.deleteSelectedServices&&o.deleteSelectedServices(...e))},(0,d.v_)(o.titles.deleteservices),1),(0,r.Lk)("button",{class:"primary-btn",onClick:t[2]||(t[2]=(...e)=>o.fetchServicesOfUnit&&o.fetchServicesOfUnit(...e))},(0,d.v_)(o.titles.currentservices),1),(0,r.Lk)("button",{class:"primary-btn",onClick:t[3]||(t[3]=e=>o.navigateTo("/home"))},(0,d.v_)(o.titles.back),1),(0,r.Lk)("input",{type:"date",id:"date",onChange:t[4]||(t[4]=e=>o.fetchServicesOfUnit(e))},null,32)]),(0,r.Lk)("div",D,[(0,r.Lk)("table",null,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.tableHeaders,((e,t)=>((0,r.uX)(),(0,r.CE)("th",{key:t,title:e},(0,d.v_)(e),9,X)))),128))])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.services,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id,onClick:t=>o.toggleSelection(e),class:(0,d.C4)({"selected-row":o.selectedServices.includes(e)})},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(Object.entries(e).filter((([e])=>"id"!==e)),(([e,t])=>((0,r.uX)(),(0,r.CE)("td",{key:e},(0,d.v_)(t),1)))),128))],10,x)))),128))])])]),o.showPopup?((0,r.uX)(),(0,r.CE)("div",V,[(0,r.Lk)("div",W,[t[19]||(t[19]=(0,r.Lk)("h3",null,"Select Services",-1)),(0,r.Lk)("label",null,[t[12]||(t[12]=(0,r.eW)(" Name Of Service: ")),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>o.nameOfService=e),placeholder:"Enter name of service"},null,512),[[a.Jo,o.nameOfService]])]),(0,r.Lk)("label",null,[t[14]||(t[14]=(0,r.eW)(" Armed: ")),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>o.armed=e)},t[13]||(t[13]=[(0,r.Lk)("option",{disabled:"",value:""},"Please select",-1),(0,r.Lk)("option",null,"armed",-1),(0,r.Lk)("option",null,"unarmed",-1)]),512),[[a.u1,o.armed]])]),(0,r.Lk)("label",null,[t[15]||(t[15]=(0,r.eW)(" Description: ")),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=e=>o.description=e),placeholder:"Enter description"},null,512),[[a.Jo,o.description]])]),(0,r.Lk)("label",null,[t[16]||(t[16]=(0,r.eW)(" Shift: ")),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=e=>o.shift=e),placeholder:"Enter shift"},null,512),[[a.Jo,o.shift]])]),(0,r.Lk)("label",null,[t[18]||(t[18]=(0,r.eW)(" Number Of Guards: ")),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[9]||(t[9]=e=>o.selectedNumberOfGuards=e)},t[17]||(t[17]=[(0,r.Lk)("option",{disabled:"",value:""},"Please select",-1),(0,r.Lk)("option",null,"1",-1),(0,r.Lk)("option",null,"2",-1),(0,r.Lk)("option",null,"3",-1),(0,r.Lk)("option",null,"4",-1),(0,r.Lk)("option",null,"5",-1)]),512),[[a.u1,o.selectedNumberOfGuards]])]),(0,r.Lk)("div",J,[(0,r.Lk)("button",{class:"primary-btn",onClick:t[10]||(t[10]=(...e)=>o.saveServices&&o.saveServices(...e))},"Save"),(0,r.Lk)("button",{class:"primary-btn",onClick:t[11]||(t[11]=e=>o.showPopup=!1)},"Cancel")])])])):(0,r.Q3)("",!0)],64)}var M={setup(){const e=(0,u.rd)(),t=(0,f.KR)(""),a=(0,f.KR)([]),o=(0,f.KR)([]),s=(0,f.KR)(!1),l=(0,f.KR)(""),i=(0,f.KR)(""),c=(0,f.KR)(""),d=(0,f.KR)(""),v=(0,f.KR)(""),p=(0,f.KR)([]),m=(0,f.KR)({});(0,r.sV)((async()=>{S(),w(),m.value=await h()}));const h=async()=>{const e=localStorage.getItem("lang")||"en",t=await n(2096)(`./${e}.json`),a=t.default;return Object.fromEntries(Object.entries(a).filter((([e])=>e.startsWith("serofunitelement."))).map((([e,t])=>[e.slice(17),t])))},k=e=>{const t=p.value.indexOf(e);-1===t?p.value.push(e):p.value.splice(t,1)},y=async()=>{try{if(0===p.value.length)return void alert("No services selected!");const e=p.value.map((e=>e.id));await g.A.post("deleteServices",{ids:e}),o.value=o.value.filter((t=>!e.includes(t.id))),p.value=[]}catch(e){console.error("Failed to delete services:",e),alert("An error occurred while deleting services.")}},b=async()=>{try{const e={nameOfService:l.value,armed:i.value,description:c.value,shift:d.value,selectedNumberOfGuards:v.value};await g.A.post("saveNewServices",e),s.value=!1,w()}catch(t){t.response&&alert(t.response.data||"You are not authorized to add or delete services."),console.error("Request failed:",t),401===t.response?.status&&e.push("/signIn")}s.value=!1},S=async()=>{const n=localStorage.getItem("jwtToken");if(n)try{const e=await g.A.get("getNameOfUnit");t.value=e.data}catch(a){console.error(a),401===a.response?.status?e.push("/signIn"):alert(a)}else e.push("/signIn")},L=async e=>{const t=localStorage.getItem("lang")||"en";try{const a=await n(2096)(`./${t}.json`),r=a.default;return Object.fromEntries(Object.entries(r).filter((([t])=>t.startsWith(e+"."))))}catch(a){return console.error(`Could not load titles for language '${t}':`,a),{}}},w=async(t=null)=>{a.value=await L("serofunit");const n=localStorage.getItem("jwtToken"),r=t&&"click"!==t.type?new Date(t.target.value):null;if(n)try{const e=await g.A.get("getServices",{params:{date:r}}),t=e.data;t.length&&(o.value=t)}catch(s){console.error(s),401===s.response?.status?e.push("/signIn"):alert(s)}else e.push("/signIn")},O=t=>{e.push(t)};return{unitName:t,tableHeaders:a,services:o,navigateTo:O,showPopup:s,saveServices:b,nameOfService:l,armed:i,description:c,shift:d,selectedNumberOfGuards:v,selectedServices:p,toggleSelection:k,deleteSelectedServices:y,fetchElementTitles:h,fetchServicesOfUnit:w,titles:m}}};const q=(0,l.A)(M,[["render",$],["__scopeId","data-v-6eaaac33"]]);var G=q;const H=(0,u.aE)({history:(0,u.LA)("/"),routes:[{path:"/home",name:"home",component:A},{path:"/signIn",name:"signIn",component:y},{path:"/soldierForm",name:"soldierForm",component:F},{path:"/servicesOfUnit",name:"servicesOfUnit",component:G},{path:"/:pathMatch(.*)*",redirect:"/home"}]});var B=H,Y=n(5384),z=n(4174),Q=n(4524);const Z={en:z,el:Q},ee=(0,Y.hU)({legacy:!1,locale:localStorage.getItem("lang")||"en",fallbackLocale:"en",messages:Z});var te=ee;const ne=(0,a.Ef)(c),ae={backEndUrl:"http://localhost:8080/"};ne.provide("$config",ae),g.A.defaults.baseURL=ae.backEndUrl,g.A.defaults.headers["Content-Type"]="application/json",g.A.interceptors.request.use((e=>{const t=localStorage.getItem("jwtToken");return t&&!e.url.includes("/performLogin")&&(e.headers["Authorization"]=`Bearer ${t}`),e})),ne.use(B),ne.use(te),ne.mount("#app")}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,a,r,o){if(!a){var s=1/0;for(u=0;u<e.length;u++){a=e[u][0],r=e[u][1],o=e[u][2];for(var l=!0,i=0;i<a.length;i++)(!1&o||s>=o)&&Object.keys(n.O).every((function(e){return n.O[e](a[i])}))?a.splice(i--,1):(l=!1,o<s&&(s=o));if(l){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[a,r,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(a,r){if(1&r&&(a=this(a)),8&r)return a;if("object"===typeof a&&a){if(4&r&&a.__esModule)return a;if(16&r&&"function"===typeof a.then)return a}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var l=2&r&&a;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((function(e){s[e]=function(){return a[e]}}));return s["default"]=function(){return a},n.d(o,s),o}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.e=function(){return Promise.resolve()}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,o,s=a[0],l=a[1],i=a[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(i)var u=i(n)}for(t&&t(a);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},a=self["webpackChunkweb_app_militaryservices_11"]=self["webpackChunkweb_app_militaryservices_11"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(6827)}));a=n.O(a)})();
//# sourceMappingURL=app.f3d09b89.js.map