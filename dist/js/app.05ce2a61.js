(function(){var e={2096:function(e,t,a){var r={"./el.json":4524,"./en.json":4174};function o(e){return Promise.resolve().then((function(){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}var o=r[e];return a.t(o,19)}))}o.keys=function(){return Object.keys(r)},o.id=2096,e.exports=o},3555:function(e,t,a){"use strict";var r=a(5130),o=a(6768),s=a(144),n=a(4232),l=a(2261);const i=(0,l.nY)("message",(()=>{const e=(0,s.KR)(""),t=(0,s.KR)("success"),a=(0,s.KR)(!1);function r(r,o="success",s=2300){e.value=r,console.log("show method: "+e.value),t.value=o,a.value=!0,setTimeout((()=>{a.value=!1}),s)}return{message:e,type:t,visible:a,show:r}}));var c={__name:"MessagePopup",setup(e){const t=i();return(e,a)=>(0,s.R1)(t).visible?((0,o.uX)(),(0,o.CE)("div",{key:0,class:(0,n.C4)(["message-popup",(0,s.R1)(t).type])},[(0,o.Lk)("p",null,(0,n.v_)((0,s.R1)(t).message),1)],2)):(0,o.Q3)("",!0)}},u=a(1241);const d=(0,u.A)(c,[["__scopeId","data-v-0c6b021a"]]);var v=d,p={__name:"App",setup(e){return(e,t)=>{const a=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(a),(0,o.bF)(v)],64)}}};const m=p;var f=m,g=a(1387);const h={class:"login-container"},k={key:0,class:"error-message"};function y(e,t,a,s,l,i){return(0,o.uX)(),(0,o.CE)("div",h,[t[4]||(t[4]=(0,o.Lk)("h1",null,"Login",-1)),s.errorMessage?((0,o.uX)(),(0,o.CE)("div",k,(0,n.v_)(s.errorMessage),1)):(0,o.Q3)("",!0),(0,o.Lk)("form",{onSubmit:t[2]||(t[2]=(0,r.D$)(((...e)=>s.login&&s.login(...e)),["prevent"]))},[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.username=e),placeholder:"Username",required:""},null,512),[[r.Jo,s.username]]),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e),placeholder:"Password",required:""},null,512),[[r.Jo,s.password]]),t[3]||(t[3]=(0,o.Lk)("button",{type:"submit"},"Login",-1))],32),t[5]||(t[5]=(0,o.Lk)("a",{href:"#"},"Forgot your password?",-1))])}a(4114);var b=a(4373),S={name:"LoginPage",setup(){const e=(0,g.rd)(),t=(0,s.KR)(""),a=(0,s.KR)(""),r=(0,s.KR)(""),o=(0,s.KR)(""),n=()=>{r.value?(localStorage.setItem("jwtToken",r.value),e.push("/home")):console.error("JWT Token not found in response.")},l=async()=>{try{o.value="";const e=await b.A.post("/performLogin",{username:t.value,password:a.value},{headers:{"Content-Type":"application/json"}});200===e.status?(r.value=e.data.token,n()):o.value="An error occurred. Please try again."}catch(e){console.error("Login error:",e),401===e.response?.status?o.value="Invalid username or password":o.value="An error occurred. Please try again."}};return{username:t,password:a,jwtToken:r,errorMessage:o,login:l}}};const L=(0,u.A)(S,[["render",y],["__scopeId","data-v-756f55a5"]]);var w=L;a(8111),a(2489);const O={id:"app"},C={class:"menu"},I={id:"header"},_={class:"lang-wrapper"},E={id:"table"},j=["title"],K=["onClick"];function R(e,t,a,s,l,i){const c=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",O,[(0,o.Lk)("nav",C,[(0,o.Lk)("ul",null,[(0,o.Lk)("li",null,[(0,o.bF)(c,{to:"/home"},{default:(0,o.k6)((()=>[(0,o.eW)((0,n.v_)(s.titles.home),1)])),_:1})]),(0,o.Lk)("li",null,[(0,o.bF)(c,{to:"/personnel"},{default:(0,o.k6)((()=>[(0,o.eW)((0,n.v_)(s.titles.personnel),1)])),_:1})]),(0,o.Lk)("li",null,[(0,o.bF)(c,{to:"/soldiersList"},{default:(0,o.k6)((()=>[(0,o.eW)((0,n.v_)(s.titles.soldiers),1)])),_:1})]),(0,o.Lk)("li",null,[(0,o.bF)(c,{to:"/servicesOfUnit"},{default:(0,o.k6)((()=>[(0,o.eW)((0,n.v_)(s.titles.services),1)])),_:1})])])]),(0,o.Lk)("div",I,[(0,o.Lk)("h1",null,(0,n.v_)(s.unitName),1),(0,o.Lk)("div",_,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.locale=e),onChange:t[1]||(t[1]=(...e)=>s.changeLanguage&&s.changeLanguage(...e)),class:"lang-select"},t[8]||(t[8]=[(0,o.Lk)("option",{value:"en"},"🇬🇧 English",-1),(0,o.Lk)("option",{value:"el"},"🇬🇷 Ελληνικά",-1)]),544),[[r.u1,s.locale]])]),(0,o.Lk)("button",{class:"primary-btn",onClick:t[2]||(t[2]=(...e)=>s.newServices&&s.newServices(...e))},(0,n.v_)(s.titles.newservices),1),(0,o.Lk)("button",{class:"primary-btn",onClick:t[3]||(t[3]=e=>s.navigateTo("/servicesOfUnit"))},(0,n.v_)(s.titles.servicesofunit),1),(0,o.Lk)("button",{class:"primary-btn",onClick:t[4]||(t[4]=(...e)=>s.fetchSoldiers&&s.fetchSoldiers(...e))},(0,n.v_)(s.titles.lastservices),1),(0,o.bo)((0,o.Lk)("input",{type:"date",id:"date","onUpdate:modelValue":t[5]||(t[5]=e=>s.selectedDate=e),onChange:t[6]||(t[6]=e=>s.fetchPrevCalculation(e))},null,544),[[r.Jo,s.selectedDate]]),(0,o.Lk)("button",{class:"logout-btn",onClick:t[7]||(t[7]=(...e)=>s.logout&&s.logout(...e))},(0,n.v_)(s.titles.logout),1)]),(0,o.Lk)("div",E,[(0,o.Lk)("table",null,[(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.tableHeaders,((e,t)=>((0,o.uX)(),(0,o.CE)("th",{key:t,title:e},(0,n.v_)(e),9,j)))),128))])]),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.soldiers,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.token,onClick:t=>s.selectSoldier(e)},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Object.entries(e).filter((([e])=>"token"!==e)),(([e,t])=>((0,o.uX)(),(0,o.CE)("td",{key:e},(0,n.v_)(t),1)))),128))],8,K)))),128))])])])])}a(7588),a(1701);var A={setup(){const e=(0,g.rd)(),t=i(),r=(0,s.KR)(""),n=(0,s.KR)([]),l=(0,s.KR)([]),c=(0,s.KR)({}),u=(0,s.KR)(localStorage.getItem("lang")||"en");let d,v;const p=(0,s.KR)("");(0,o.sV)((async()=>{m(),h(),k(),c.value=await f()}));const m=async()=>{try{const e=await b.A.get("getNameOfUnit");r.value=e.data}catch(t){console.error(t),401===t.response?.status&&e.push("/signIn")}},f=async()=>{const e=localStorage.getItem("lang")||"en",t=await a(2096)(`./${e}.json`),r=t.default;return Object.fromEntries(Object.entries(r).filter((([e])=>e.startsWith("element."))).map((([e,t])=>[e.slice(8),t])))},h=async()=>{try{const e=await b.A.get("getFirstCalcDate");d=new Date(e.data)}catch(t){console.error(t),401===t.response?.status&&e.push("/signIn")}},k=async()=>{l.value=await w("lastcalc");try{const e=await b.A.get("getSoldiers",{}),t=await O(e.data);localStorage.setItem("selectedDate",v),t.length&&(n.value=Object.values(t));const a=n.value[0]?.date;if(a){const e=a.split("-").reverse().join("-"),t=new Date(e);v=t,p.value=t.toISOString().split("T")[0]}}catch(a){console.error(a),401===a.response?.status&&e.push("/signIn"),t.show(a.response.data,"error")}},y=e=>{if(p.value=new Date(e.target.value),p.value<d||p.value>v){const e=localStorage.getItem("selectedDate"),a="string"===typeof e?new Date(e):e;return p.value=a.toISOString().split("T")[0],void t.show(`The date you selected is out of this period (${d},${v}.)`,"error",3300)}S()},S=async()=>{localStorage.setItem("lang",u.value);const e="string"===typeof p.value?new Date(p.value):p.value;v&&e&&!C(e,v)?L(p.value):k(),c.value=await f()},L=async a=>{l.value=await w("prevcalc"),localStorage.setItem("selectedDate",a);try{p.value="string"===typeof a?a:a.toISOString().split("T")[0];const e=await b.A.get("getPreviousCalculation",{params:{date:a}}),t=await O(e.data);t.length&&(n.value=Object.values(t))}catch(r){console.error(r),401===r.response?.status&&e.push("/signIn"),t.show(r.response.data,"error")}},w=async e=>{const t=localStorage.getItem("lang")||"en";try{const r=await a(2096)(`./${t}.json`),o=r.default;return Object.fromEntries(Object.entries(o).filter((([t])=>t.startsWith(e+"."))))}catch(r){return console.error(`Could not load titles for language '${t}':`,r),{}}},O=async e=>{const t=localStorage.getItem("lang")||"en";if("en"===t)return e;const r=await a(2096)(`./${t}.json`),o=["soldierdto.active","soldierdto.freeofduty","soldierdto.armed","soldierdto.unarmed","soldierdto.armedser","soldierdto.unarmedser","soldierdto.onduty","soldierdto.discharged"],s=o.reduce(((e,t)=>(t in r&&(e[t.slice(11)]=r[t]),e)),{});return e.forEach((e=>{const t=["situation","active","armed","discharged"];t.forEach((t=>{const a=e[t];t in e&&(e[t]="situation"===t&&"armed"===a?s["armed"]:"situation"===t&&"unarmed"===a?s["unarmed"]:"active"===t&&"active"===a?s["active"]:"active"===t&&"free of duty"===a?s["freeofduty"]:"armed"===t&&"armed"===a?s["armedser"]:"armed"===t&&"unarmed"===a?s["unarmedser"]:"armed"===t&&"free of duty"===a?s["freeofduty"]:"discharged"===t&&"in operation"===a?s["onduty"]:"discharged"===t&&"discharged"===a?s["discharged"]:a)}))})),e},C=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(),I=async()=>{try{const e=await b.A.get("calc");k(),t.show(e.data,"success",3e3)}catch(a){console.error(a),401===a.response?.status&&e.push("/signIn"),t.show(a.response.data,"error")}},_=async t=>{const a=localStorage.getItem("lang");try{const r=await b.A.post("getSoldier",t,{params:{lang:a}});localStorage.setItem("formData",JSON.stringify(r.data)),e.push("/soldierForm")}catch(r){console.error("Request failed:",r),401===r.response?.status&&e.push("/signIn")}},E=()=>{localStorage.clear(),e.push("/signIn")},j=t=>{e.push(t)};return{unitName:r,soldiers:n,tableHeaders:l,titles:c,locale:u,changeLanguage:S,fetchElementTitles:f,getNameOfUnit:m,fetchTableTitles:w,fetchSoldiers:k,fetchPrevCalculation:y,newServices:I,selectSoldier:_,logout:E,navigateTo:j,selectedDate:p}}};const U=(0,u.A)(A,[["render",R],["__scopeId","data-v-6b340c0a"]]);var T=U;const D={id:"app"},N={id:"header"},F={class:"lang-wrapper"},X={id:"table"},P={class:"registration-input"},V={class:"registration-bar"},x={for:"registrationInput"},$={class:"table-scroll-wrapper"},J=["title"],W=["onClick"];function M(e,t,a,s,l,i){return(0,o.uX)(),(0,o.CE)("div",D,[(0,o.Lk)("div",N,[(0,o.Lk)("h1",null,(0,n.v_)(s.unitName),1),(0,o.Lk)("div",F,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.locale=e),onChange:t[1]||(t[1]=(...e)=>s.changeLanguage&&s.changeLanguage(...e)),class:"lang-select"},t[6]||(t[6]=[(0,o.Lk)("option",{value:"en"},"🇬🇧 English",-1),(0,o.Lk)("option",{value:"el"},"🇬🇷 Ελληνικά",-1)]),544),[[r.u1,s.locale]])])]),(0,o.Lk)("div",X,[(0,o.Lk)("div",P,[(0,o.Lk)("div",V,[(0,o.Lk)("label",x,(0,n.v_)(s.titles.registrationnumber),1),(0,o.bo)((0,o.Lk)("input",{id:"registrationInput",type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>s.soldierIdentity=e),onChange:t[3]||(t[3]=t=>e.fetchPrevCalculation(t))},null,544),[[r.Jo,s.soldierIdentity]]),(0,o.Lk)("button",{class:"primary-btn",onClick:t[4]||(t[4]=(...e)=>s.addSoldier&&s.addSoldier(...e))},(0,n.v_)(s.titles.addsoldier),1),(0,o.Lk)("button",{class:"primary-btn",onClick:t[5]||(t[5]=e=>s.navigateTo("/home"))},(0,n.v_)(s.titles.back),1)])]),(0,o.Lk)("table",$,[(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.tableHeaders,((e,t)=>((0,o.uX)(),(0,o.CE)("th",{key:t,title:e},(0,n.v_)(e),9,J)))),128))])]),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.soldiers,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.token,onClick:t=>s.selectSoldier(e)},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Object.entries(e).filter((([e])=>"token"!==e)),(([e,t])=>((0,o.uX)(),(0,o.CE)("td",{key:e},(0,n.v_)(t),1)))),128))],8,W)))),128))])])])])}var q={setup(){const e=(0,g.rd)(),t=i(),r=(0,s.KR)(""),n=(0,s.KR)([]),l=(0,s.KR)(""),c=(0,s.KR)([]),u=(0,s.KR)({}),d=(0,s.KR)(localStorage.getItem("lang")||"en");(0,o.sV)((async()=>{v(),m(),u.value=await p()}));const v=async()=>{try{const e=await b.A.get("getNameOfUnit");r.value=e.data}catch(t){console.error(t),401===t.response?.status&&e.push("/signIn")}},p=async()=>{const e=localStorage.getItem("lang")||"en",t=await a(2096)(`./${e}.json`),r=t.default;return Object.fromEntries(Object.entries(r).filter((([e])=>e.startsWith("soldierselement."))).map((([e,t])=>[e.slice(16),t])))},m=async()=>{c.value=await k("soldiers");try{const e=await b.A.get("getSoldiersOfUnit",{}),t=await y(e.data);t.length&&(n.value=Object.values(t))}catch(a){console.error(a),401===a.response?.status&&e.push("/signIn"),t.show(a.response.data,"error")}},f=()=>{console.log("addSoldier")},h=async()=>{localStorage.setItem("lang",d.value),m(),u.value=await p()},k=async e=>{const t=localStorage.getItem("lang")||"en";try{const r=await a(2096)(`./${t}.json`),o=r.default;return Object.fromEntries(Object.entries(o).filter((([t])=>t.startsWith(e+"."))))}catch(r){return console.error(`Could not load titles for language '${t}':`,r),{}}},y=async e=>{const t=localStorage.getItem("lang")||"en";if("en"===t)return e;const r=await a(2096)(`./${t}.json`),o=["soldierdto.active","soldierdto.freeofduty","soldierdto.armed","soldierdto.unarmed","soldierdto.armedser","soldierdto.unarmedser","soldierdto.onduty","soldierdto.discharged"],s=o.reduce(((e,t)=>(t in r&&(e[t.slice(11)]=r[t]),e)),{});return e.forEach((e=>{const t=["situation","active","armed","discharged"];t.forEach((t=>{const a=e[t];t in e&&(e[t]="situation"===t&&"armed"===a?s["armed"]:"situation"===t&&"unarmed"===a?s["unarmed"]:"active"===t&&"active"===a?s["active"]:"active"===t&&"free of duty"===a?s["freeofduty"]:"armed"===t&&"armed"===a?s["armedser"]:"armed"===t&&"unarmed"===a?s["unarmedser"]:"armed"===t&&"free of duty"===a?s["freeofduty"]:"discharged"===t&&"in operation"===a?s["onduty"]:"discharged"===t&&"discharged"===a?s["discharged"]:a)}))})),e},S=async t=>{try{console.log(t),e.push("/servicesOfSoldier")}catch(a){console.error("Request failed:",a),401===a.response?.status&&e.push("/signIn")}},L=t=>{e.push(t)};return{unitName:r,soldiers:n,tableHeaders:c,titles:u,locale:d,changeLanguage:h,fetchElementTitles:p,getNameOfUnit:v,fetchTableTitles:k,fetchSoldiers:m,selectSoldier:S,navigateTo:L,addSoldier:f,soldierIdentity:l}}};const H=(0,u.A)(q,[["render",M],["__scopeId","data-v-4aba73aa"]]);var Y=H;const G={id:"background"},z={class:"add-container"};function B(e,t,a,s,n,l){return(0,o.uX)(),(0,o.CE)("div",G,[(0,o.Lk)("div",z,[t[10]||(t[10]=(0,o.Lk)("h1",null,"Add Soldier",-1)),(0,o.Lk)("form",{onSubmit:t[6]||(t[6]=(0,r.D$)(((...e)=>s.saveSoldier&&s.saveSoldier(...e)),["prevent"]))},[(0,o.bo)((0,o.Lk)("input",{type:"hidden","onUpdate:modelValue":t[0]||(t[0]=e=>s.soldier.id=e),placeholder:"Id",disabled:""},null,512),[[r.Jo,s.soldier.id]]),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>s.soldier.name=e),placeholder:"Name",readonly:"",required:""},null,512),[[r.Jo,s.soldier.name]]),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>s.soldier.surname=e),placeholder:"Surname",readonly:"",required:""},null,512),[[r.Jo,s.soldier.surname]]),(0,o.bo)((0,o.Lk)("select",{id:"situationSelect","onUpdate:modelValue":t[3]||(t[3]=e=>s.soldier.situation=e)},t[7]||(t[7]=[(0,o.Lk)("option",{value:"",disabled:"",selected:""},"Select an option",-1),(0,o.Lk)("option",{value:"armed"},"armed",-1),(0,o.Lk)("option",{value:"unarmed"},"unarmed",-1)]),512),[[r.u1,s.soldier.situation]]),(0,o.bo)((0,o.Lk)("select",{id:"activeSelect","onUpdate:modelValue":t[4]||(t[4]=e=>s.soldier.active=e)},t[8]||(t[8]=[(0,o.Lk)("option",{value:"",disabled:"",selected:""},"Select an option",-1),(0,o.Lk)("option",{value:"active"},"active",-1),(0,o.Lk)("option",{value:"free of duty"},"free of duty",-1)]),512),[[r.u1,s.soldier.active]]),t[9]||(t[9]=(0,o.Lk)("button",{type:"submit"},"Save",-1)),(0,o.Lk)("button",{onClick:t[5]||(t[5]=(...t)=>e.goToSoldierForm&&e.goToSoldierForm(...t)),class:"back-btn"},"Back")],32)])])}var Q={setup(){const e=(0,g.rd)(),t=(0,s.KR)({id:"",name:"",surname:"",situation:"",active:""});(0,o.sV)((()=>{const a=localStorage.getItem("jwtToken");if(!a)return void e.push("/signIn");const r=localStorage.getItem("formData");r&&(t.value=JSON.parse(r),localStorage.removeItem("formData"))}));const a=async()=>{try{await b.A.post("changeSoldSituation",t.value),e.push("/home")}catch(a){console.error(a),401===a.response?.status?e.push("/signIn"):alert(a)}};return{soldier:t,saveSoldier:a}}};const Z=(0,u.A)(Q,[["render",B],["__scopeId","data-v-b37eee0c"]]);var ee=Z;const te={id:"header"},ae={id:"table"},re=["title"],oe=["onClick"],se={key:0,class:"popup-overlay"},ne={class:"popup-content"},le={class:"popup-buttons"};function ie(e,t,a,s,l,i){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",te,[(0,o.Lk)("h1",null,(0,n.v_)(s.unitName),1),(0,o.Lk)("button",{class:"primary-btn",onClick:t[0]||(t[0]=e=>s.showPopup=!0)},(0,n.v_)(s.titles.addservices),1),(0,o.Lk)("button",{class:"primary-btn",onClick:t[1]||(t[1]=(...e)=>s.deleteSelectedServices&&s.deleteSelectedServices(...e))},(0,n.v_)(s.titles.deleteservices),1),(0,o.Lk)("button",{class:"primary-btn",onClick:t[2]||(t[2]=(...e)=>s.fetchServicesOfUnit&&s.fetchServicesOfUnit(...e))},(0,n.v_)(s.titles.currentservices),1),(0,o.Lk)("button",{class:"primary-btn",onClick:t[3]||(t[3]=e=>s.navigateTo("/home"))},(0,n.v_)(s.titles.back),1),(0,o.bo)((0,o.Lk)("input",{type:"date",id:"date","onUpdate:modelValue":t[4]||(t[4]=e=>s.selectedDate=e),onChange:t[5]||(t[5]=e=>s.fetchServicesOfUnit(e))},null,544),[[r.Jo,s.selectedDate]])]),(0,o.Lk)("div",ae,[(0,o.Lk)("table",null,[(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.tableHeaders,((e,t)=>((0,o.uX)(),(0,o.CE)("th",{key:t,title:e},(0,n.v_)(e),9,re)))),128))])]),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.services,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.id,onClick:t=>s.toggleSelection(e),class:(0,n.C4)({"selected-row":s.selectedServices.includes(e)})},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Object.entries(e).filter((([e])=>"id"!==e)),(([e,t])=>((0,o.uX)(),(0,o.CE)("td",{key:e},(0,n.v_)(t),1)))),128))],10,oe)))),128))])])]),s.showPopup?((0,o.uX)(),(0,o.CE)("div",se,[(0,o.Lk)("div",ne,[t[20]||(t[20]=(0,o.Lk)("h3",null,"Select Services",-1)),(0,o.Lk)("label",null,[t[13]||(t[13]=(0,o.eW)(" Name Of Service: ")),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=e=>s.nameOfService=e),placeholder:"Enter name of service"},null,512),[[r.Jo,s.nameOfService]])]),(0,o.Lk)("label",null,[t[15]||(t[15]=(0,o.eW)(" Armed: ")),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>s.armed=e)},t[14]||(t[14]=[(0,o.Lk)("option",{disabled:"",value:""},"Please select",-1),(0,o.Lk)("option",null,"armed",-1),(0,o.Lk)("option",null,"unarmed",-1)]),512),[[r.u1,s.armed]])]),(0,o.Lk)("label",null,[t[16]||(t[16]=(0,o.eW)(" Description: ")),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=e=>s.description=e),placeholder:"Enter description"},null,512),[[r.Jo,s.description]])]),(0,o.Lk)("label",null,[t[17]||(t[17]=(0,o.eW)(" Shift: ")),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=e=>s.shift=e),placeholder:"Enter shift"},null,512),[[r.Jo,s.shift]])]),(0,o.Lk)("label",null,[t[19]||(t[19]=(0,o.eW)(" Number Of Guards: ")),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[10]||(t[10]=e=>s.selectedNumberOfGuards=e)},t[18]||(t[18]=[(0,o.Lk)("option",{disabled:"",value:""},"Please select",-1),(0,o.Lk)("option",null,"1",-1),(0,o.Lk)("option",null,"2",-1),(0,o.Lk)("option",null,"3",-1),(0,o.Lk)("option",null,"4",-1),(0,o.Lk)("option",null,"5",-1)]),512),[[r.u1,s.selectedNumberOfGuards]])]),(0,o.Lk)("div",le,[(0,o.Lk)("button",{class:"primary-btn",onClick:t[11]||(t[11]=(...e)=>s.saveServices&&s.saveServices(...e))},"Save"),(0,o.Lk)("button",{class:"primary-btn",onClick:t[12]||(t[12]=e=>s.showPopup=!1)},"Cancel")])])])):(0,o.Q3)("",!0)],64)}var ce={setup(){const e=(0,g.rd)(),t=(0,s.KR)(""),r=(0,s.KR)([]),n=(0,s.KR)([]),l=(0,s.KR)(!1),c=(0,s.KR)(""),u=(0,s.KR)(""),d=(0,s.KR)(""),v=(0,s.KR)(""),p=(0,s.KR)(""),m=(0,s.KR)([]),f=(0,s.KR)({}),h=(0,s.KR)(""),k=i();(0,o.sV)((async()=>{O(),I(),f.value=await y()}));const y=async()=>{const e=localStorage.getItem("lang")||"en",t=await a(2096)(`./${e}.json`),r=t.default;return Object.fromEntries(Object.entries(r).filter((([e])=>e.startsWith("serofunitelement."))).map((([e,t])=>[e.slice(17),t])))},S=e=>{const t=m.value.indexOf(e);-1===t?m.value.push(e):m.value.splice(t,1)},L=async()=>{try{if(0===m.value.length)return void k.show("No services selected.","error");const e=m.value.map((e=>e.id)),t=await b.A.post("deleteServices",{ids:e});n.value=n.value.filter((t=>!e.includes(t.id))),m.value=[],k.show(t.data,"success")}catch(e){console.error("Failed to delete services:",e),k.show("An error occurred while deleting services.","error")}},w=async()=>{try{const e={nameOfService:c.value,armed:u.value,description:d.value,shift:v.value,selectedNumberOfGuards:p.value},t=await b.A.post("saveNewServices",e);l.value=!1,I(),k.show(t.data,"success")}catch(t){t.response&&k.show(t.response.data||"You are not authorized to add or delete services.","error"),console.error("Request failed:",t),401===t.response?.status&&e.push("/signIn")}l.value=!1},O=async()=>{const a=localStorage.getItem("jwtToken");if(a)try{const e=await b.A.get("getNameOfUnit");t.value=e.data}catch(r){console.error(r),401===r.response?.status?e.push("/signIn"):k.show(r.response.data||"You are not authorized to add or delete services.","error")}else e.push("/signIn")},C=async e=>{const t=localStorage.getItem("lang")||"en";try{const r=await a(2096)(`./${t}.json`),o=r.default;return Object.fromEntries(Object.entries(o).filter((([t])=>t.startsWith(e+"."))))}catch(r){return console.error(`Could not load titles for language '${t}':`,r),{}}},I=async(t=null)=>{r.value=await C("serofunit");const a=localStorage.getItem("jwtToken"),o=t&&"click"!==t.type?new Date(t.target.value):null;if(h.value=t&&"click"!==t.type?h.value:(new Date).toISOString().split("T")[0],a)try{const e=await b.A.get("getServices",{params:{date:o}}),t=e.data;t.length&&(n.value=t)}catch(s){console.error(s),401===s.response?.status?e.push("/signIn"):k.show(s.response.data||"You are not authorized to add or delete services.","error")}else e.push("/signIn")},_=t=>{e.push(t)};return{unitName:t,tableHeaders:r,services:n,navigateTo:_,showPopup:l,saveServices:w,nameOfService:c,armed:u,description:d,shift:v,selectedNumberOfGuards:p,selectedServices:m,toggleSelection:S,deleteSelectedServices:L,fetchElementTitles:y,fetchServicesOfUnit:I,titles:f,selectedDate:h}}};const ue=(0,u.A)(ce,[["render",ie],["__scopeId","data-v-3d435641"]]);var de=ue;const ve=(0,g.aE)({history:(0,g.LA)("/"),routes:[{path:"/home",name:"home",component:T},{path:"/soldiersList",name:"soldiersList",component:Y},{path:"/signIn",name:"signIn",component:w},{path:"/soldierForm",name:"soldierForm",component:ee},{path:"/servicesOfUnit",name:"servicesOfUnit",component:de},{path:"/:pathMatch(.*)*",redirect:"/home"}]});var pe=ve,me=a(5384),fe=a(4174),ge=a(4524);const he={en:fe,el:ge},ke=(0,me.hU)({legacy:!1,locale:localStorage.getItem("lang")||"en",fallbackLocale:"en",messages:he});var ye=ke;const be=(0,r.Ef)(f),Se=(0,l.Ey)(),Le={backEndUrl:"http://localhost:8080/"};be.provide("$config",Le),b.A.defaults.baseURL=Le.backEndUrl,b.A.defaults.headers["Content-Type"]="application/json",b.A.interceptors.request.use((e=>{const t=localStorage.getItem("jwtToken");return t&&!e.url.includes("/performLogin")&&(e.headers["Authorization"]=`Bearer ${t}`),e})),be.use(pe),be.use(ye),be.use(Se),be.mount("#app")},4174:function(e){"use strict";e.exports=JSON.parse('{"element.home":"Home","element.personnel":"Personnel","element.soldiers":"Soldiers","element.services":"Services","element.newservices":"New Services","element.servicesofunit":"Services Of Unit","element.lastservices":"Last Services","element.logout":"Logout","soldierselement.addsoldier":"Add Soldier","soldierselement.registrationnumber":"Registration Number","soldierselement.back":"Back","soldiers.identity":"Registration Number","soldiers.company":"Company","soldiers.name":"Name","soldiers.surname":"Surname","soldiers.situation":"Situation","soldiers.active":"Active","soldiers.dutystatus":"Duty Status","serofunitelement.addservices":"Add Services","serofunitelement.deleteservices":"Delete Services","serofunitelement.currentservices":"Current Services","serofunitelement.back":"Back","serofunit.service":"Service","serofunit.Armed":"Armed","serofunit.Description":"Description","serofunit.Shift":"Shift","prevcalc.registration":"Registration Number","prevcalc.company":"Company","prevcalc.name":"Name","prevcalc.surname":"Surname","prevcalc.situation":"Situation","prevcalc.active":"Active","prevcalc.service":"Service","prevcalc.date":"Date","prevcalc.armed":"Armed","prevcalc.dutystatus":"Duty Status","lastcalc.company":"Company","lastcalc.name":"Name","lastcalc.surname":"Surname","lastcalc.situation":"Situation","lastcalc.active":"Active","lastcalc.service":"Service","lastcalc.date":"Date","lastcalc.armed":"Armed"}')},4524:function(e){"use strict";e.exports=JSON.parse('{"element.home":"Αρχική","element.personnel":"Προσωπικό","element.soldiers":"Στρατιώτες","element.services":"Υπηρεσίες","element.newservices":"Νέες Υπηρεσίες","element.servicesofunit":"Υπηρεσίες Μονάδας","element.lastservices":"Τελευταίες υπηρεσίες","element.logout":"Αποσύνδεση","soldierselement.addsoldier":"Προσθήκη Στρατιώτη","soldierselement.registrationnumber":"ΑΣΜ","soldierselement.back":"Επιστροφή","soldiers.identity":"ΑΣΜ","soldiers.company":"Λόχος","soldiers.name":"Όνομα","soldiers.surname":"Επώνυμο","soldiers.situation":"Ικανότητα","soldiers.active":"Κατάσταση Στρατιώτη","soldiers.dutystatus":"Διαθεσιμότητα","serofunitelement.addservices":"Προσθήκη Υπηρεσίας","serofunitelement.deleteservices":"Διαγραφή Υπηρεσιών","serofunitelement.currentservices":"Τρέχουσες Υπηρεσίες","serofunitelement.back":"Επιστροφή","serofunit.service":"Υπηρεσία","serofunit.Armed":"Κατηγορία Υπηρεσίας","serofunit.Description":"Περιγραφή","serofunit.Shift":"Ώρες","prevcalc.registration":"ΑΣΜ","prevcalc.company":"Λόχος","prevcalc.name":"Όνομα","prevcalc.surname":"Επώνυμο","prevcalc.situation":"Ικανότητα","prevcalc.active":"Κατάσταση Στρατιώτη","prevcalc.service":"Υπηρεσία","prevcalc.date":"Ημερομηνία","prevcalc.armed":"Κατηγορία Υπηρεσίας","prevcalc.dutystatus":"Διαθεσιμότητα","lastcalc.company":"Λόχος","lastcalc.name":"Όνομα","lastcalc.surname":"Επώνυμο","lastcalc.situation":"Ικανότητα","lastcalc.active":"Κατάσταση Στρατιώτη","lastcalc.service":"Υπηρεσία","lastcalc.date":"Ημερομηνία","lastcalc.armed":"Κατηγορία Υπηρεσίας","soldierdto.active":"ενεργός","soldierdto.freeofduty":"ελεύθερος υπηρεσίας","soldierdto.armed":"ένοπλος","soldierdto.unarmed":"άοπλος","soldierdto.armedser":"ένοπλη","soldierdto.unarmedser":"άοπλη","soldierdto.onduty":"εν υπηρεσία","soldierdto.discharged":"αποστρατευμένος"}')}},t={};function a(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,r,o,s){if(!r){var n=1/0;for(u=0;u<e.length;u++){r=e[u][0],o=e[u][1],s=e[u][2];for(var l=!0,i=0;i<r.length;i++)(!1&s||n>=s)&&Object.keys(a.O).every((function(e){return a.O[e](r[i])}))?r.splice(i--,1):(l=!1,s<n&&(n=s));if(l){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[r,o,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var s=Object.create(null);a.r(s);var n={};e=e||[null,t({}),t([]),t(t)];for(var l=2&o&&r;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((function(e){n[e]=function(){return r[e]}}));return n["default"]=function(){return r},a.d(s,n),s}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.e=function(){return Promise.resolve()}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,s,n=r[0],l=r[1],i=r[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(o in l)a.o(l,o)&&(a.m[o]=l[o]);if(i)var u=i(a)}for(t&&t(r);c<n.length;c++)s=n[c],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(u)},r=self["webpackChunkweb_app_militaryservices_11"]=self["webpackChunkweb_app_militaryservices_11"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[504],(function(){return a(3555)}));r=a.O(r)})();
//# sourceMappingURL=app.05ce2a61.js.map