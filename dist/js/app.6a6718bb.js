(function(){"use strict";var e={3561:function(e,t,n){var a=n(5130),o=n(6768);function r(e,t,n,a,r,l){const s=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.Wv)(s)}var l={name:"App",components:{}},s=n(1241);const i=(0,s.A)(l,[["render",r]]);var u=i,c=n(1387),d=n(4232);const p={class:"login-container"},v={key:0,class:"error-message"};function g(e,t,n,r,l,s){return(0,o.uX)(),(0,o.CE)("div",p,[t[4]||(t[4]=(0,o.Lk)("h1",null,"Login",-1)),r.errorMessage?((0,o.uX)(),(0,o.CE)("div",v,(0,d.v_)(r.errorMessage),1)):(0,o.Q3)("",!0),(0,o.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>r.login&&r.login(...e)),["prevent"]))},[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>r.username=e),placeholder:"Username",required:""},null,512),[[a.Jo,r.username]]),(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>r.password=e),placeholder:"Password",required:""},null,512),[[a.Jo,r.password]]),t[3]||(t[3]=(0,o.Lk)("button",{type:"submit"},"Login",-1))],32),t[5]||(t[5]=(0,o.Lk)("a",{href:"#"},"Forgot your password?",-1))])}n(4114);var m=n(144),h=n(4373),k={name:"LoginPage",setup(){const e=(0,c.rd)(),t=(0,m.KR)(""),n=(0,m.KR)(""),a=(0,m.KR)(""),o=(0,m.KR)(""),r=()=>{a.value?(localStorage.setItem("jwtToken",a.value),e.push("/home")):console.error("JWT Token not found in response.")},l=async()=>{try{o.value="";const e=await h.A.post("/performLogin",{username:t.value,password:n.value},{headers:{"Content-Type":"application/json"}});200===e.status?(a.value=e.data.token,r()):o.value="An error occurred. Please try again."}catch(e){console.error("Login error:",e),401===e.response?.status?o.value="Invalid username or password":o.value="An error occurred. Please try again."}};return{username:t,password:n,jwtToken:a,errorMessage:o,login:l}}};const f=(0,s.A)(k,[["render",g],["__scopeId","data-v-756f55a5"]]);var b=f;n(8111),n(2489);const y={id:"app"},L={class:"menu"},S={id:"header"},I={class:"lang-wrapper"},w={id:"table"},C=["title"],_=["onClick"];function O(e,t,n,r,l,s){const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",y,[(0,o.Lk)("nav",L,[(0,o.Lk)("ul",null,[(0,o.Lk)("li",null,[(0,o.bF)(i,{to:"/home"},{default:(0,o.k6)((()=>[(0,o.eW)((0,d.v_)(r.titles.homelabel),1)])),_:1})]),(0,o.Lk)("li",null,[(0,o.bF)(i,{to:"/personnel"},{default:(0,o.k6)((()=>[(0,o.eW)((0,d.v_)(r.titles.personnellabel),1)])),_:1})]),(0,o.Lk)("li",null,[(0,o.bF)(i,{to:"/soldiers"},{default:(0,o.k6)((()=>[(0,o.eW)((0,d.v_)(r.titles.soldierslabel),1)])),_:1})]),(0,o.Lk)("li",null,[(0,o.bF)(i,{to:"/servicesOfUnit"},{default:(0,o.k6)((()=>[(0,o.eW)((0,d.v_)(r.titles.serviceslabel),1)])),_:1})])])]),(0,o.Lk)("div",S,[(0,o.Lk)("h1",null,(0,d.v_)(r.unitName),1),(0,o.Lk)("div",I,[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.locale=e),onChange:t[1]||(t[1]=(...e)=>r.changeLanguage&&r.changeLanguage(...e)),class:"lang-select"},t[7]||(t[7]=[(0,o.Lk)("option",{value:"en"},"ðŸ‡¬ðŸ‡§ English",-1),(0,o.Lk)("option",{value:"el"},"ðŸ‡¬ðŸ‡· Î•Î»Î»Î·Î½Î¹ÎºÎ¬",-1)]),544),[[a.u1,r.locale]])]),(0,o.Lk)("button",{class:"primary-btn",onClick:t[2]||(t[2]=(...e)=>r.newServices&&r.newServices(...e))},(0,d.v_)(r.titles.newservicesbutton),1),(0,o.Lk)("button",{class:"primary-btn",onClick:t[3]||(t[3]=e=>r.navigateTo("/servicesOfUnit"))},(0,d.v_)(r.titles.servicesofunitbutton),1),(0,o.Lk)("button",{class:"primary-btn",onClick:t[4]||(t[4]=(...e)=>r.fetchSoldiers&&r.fetchSoldiers(...e))},(0,d.v_)(r.titles.lastservicesbutton),1),(0,o.Lk)("input",{type:"date",id:"date",onChange:t[5]||(t[5]=e=>r.fetchPrevCalculation(e))},null,32),(0,o.Lk)("button",{class:"logout-btn",onClick:t[6]||(t[6]=(...e)=>r.logout&&r.logout(...e))},(0,d.v_)(r.titles.logoutbutton),1)]),(0,o.Lk)("div",w,[(0,o.Lk)("table",null,[(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.tableHeaders,((e,t)=>((0,o.uX)(),(0,o.CE)("th",{key:t,title:e},(0,d.v_)(e),9,C)))),128))])]),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.soldiers,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e.token,onClick:t=>r.selectSoldier(e)},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Object.entries(e).filter((([e])=>"token"!==e)),(([e,t])=>((0,o.uX)(),(0,o.CE)("td",{key:e},(0,d.v_)(t),1)))),128))],8,_)))),128))])])])])}var A={setup(){const e=(0,c.rd)(),t=(0,m.KR)(""),n=(0,m.KR)([]),a=(0,m.KR)([]),r=(0,m.KR)({}),l=(0,m.KR)(localStorage.getItem("lang")||"en");(0,o.sV)((()=>{u(),p(),i()}));const s=()=>{localStorage.setItem("lang",l.value),p(),i()},i=async()=>{const t=localStorage.getItem("lang")||"en";try{const e=await h.A.get("titles",{params:{lang:t}});r.value=e.data}catch(n){console.error(n),401===n.response?.status&&e.push("/signIn")}},u=async()=>{try{const e=await h.A.get("getNameOfUnit");t.value=e.data}catch(n){console.error(n),401===n.response?.status&&e.push("/signIn")}},d=async t=>{const n=localStorage.getItem("lang")||"en";l.value=n;try{const e=await h.A.get("mtable",{params:{prefix:t,lang:n}}),o=e.data;o.length&&(a.value=o)}catch(o){console.error(o),401===o.response?.status&&e.push("/signIn"),alert(o)}},p=async()=>{await d("title.lastcalc");try{const e=localStorage.getItem("lang")||"en",t=await h.A.get("getSoldiers",{params:{lang:e}}),a=t.data;a.length&&(n.value=Object.values(a));const o=n.value[0]?.date;if(o){const e=o.split("-").reverse().join("-"),t=new Date(e);document.getElementById("date").value=t.toISOString().split("T")[0]}}catch(t){console.error(t),401===t.response?.status&&e.push("/signIn"),alert(t)}},v=async t=>{const a=localStorage.getItem("lang");await d("title.prevcalc");const o=t.target.value;try{const e=await h.A.get("getPreviousCalculation",{params:{date:o,lang:a}}),t=e.data;t.length&&(n.value=Object.values(t))}catch(r){console.error(r),401===r.response?.status&&e.push("/signIn"),alert(r)}},g=async()=>{try{await h.A.get("calc"),p()}catch(t){console.error(t),401===t.response?.status&&e.push("/signIn"),alert(t)}},k=async t=>{const n=localStorage.getItem("lang")||"en";try{const a=await h.A.post("getSoldier",t,{params:{lang:n}});localStorage.setItem("formData",JSON.stringify(a.data)),e.push("/soldierForm")}catch(a){console.error("Request failed:",a),401===a.response?.status&&e.push("/signIn")}},f=()=>{localStorage.clear(),e.push("/signIn")},b=t=>{e.push(t)};return{unitName:t,soldiers:n,tableHeaders:a,titles:r,locale:l,changeLanguage:s,fetchElementTitles:i,getNameOfUnit:u,fetchTableTitles:d,fetchSoldiers:p,fetchPrevCalculation:v,newServices:g,selectSoldier:k,logout:f,navigateTo:b}}};const E=(0,s.A)(A,[["render",O],["__scopeId","data-v-b3446c6c"]]);var T=E;const j={id:"background"},K={class:"add-container"};function U(e,t,n,r,l,s){return(0,o.uX)(),(0,o.CE)("div",j,[(0,o.Lk)("div",K,[t[10]||(t[10]=(0,o.Lk)("h1",null,"Add Soldier",-1)),(0,o.Lk)("form",{onSubmit:t[6]||(t[6]=(0,a.D$)(((...e)=>r.saveSoldier&&r.saveSoldier(...e)),["prevent"]))},[(0,o.bo)((0,o.Lk)("input",{type:"hidden","onUpdate:modelValue":t[0]||(t[0]=e=>r.soldier.id=e),placeholder:"Id",disabled:""},null,512),[[a.Jo,r.soldier.id]]),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>r.soldier.name=e),placeholder:"Name",readonly:"",required:""},null,512),[[a.Jo,r.soldier.name]]),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>r.soldier.surname=e),placeholder:"Surname",readonly:"",required:""},null,512),[[a.Jo,r.soldier.surname]]),(0,o.bo)((0,o.Lk)("select",{id:"situationSelect","onUpdate:modelValue":t[3]||(t[3]=e=>r.soldier.situation=e)},t[7]||(t[7]=[(0,o.Lk)("option",{value:"",disabled:"",selected:""},"Select an option",-1),(0,o.Lk)("option",{value:"armed"},"armed",-1),(0,o.Lk)("option",{value:"unarmed"},"unarmed",-1)]),512),[[a.u1,r.soldier.situation]]),(0,o.bo)((0,o.Lk)("select",{id:"activeSelect","onUpdate:modelValue":t[4]||(t[4]=e=>r.soldier.active=e)},t[8]||(t[8]=[(0,o.Lk)("option",{value:"",disabled:"",selected:""},"Select an option",-1),(0,o.Lk)("option",{value:"active"},"active",-1),(0,o.Lk)("option",{value:"free of duty"},"free of duty",-1)]),512),[[a.u1,r.soldier.active]]),t[9]||(t[9]=(0,o.Lk)("button",{type:"submit"},"Save",-1)),(0,o.Lk)("button",{onClick:t[5]||(t[5]=(...t)=>e.goToSoldierForm&&e.goToSoldierForm(...t)),class:"back-btn"},"Back")],32)])])}var F={setup(){const e=(0,c.rd)(),t=(0,m.KR)({id:"",name:"",surname:"",situation:"",active:""});(0,o.sV)((()=>{const n=localStorage.getItem("jwtToken");if(!n)return void e.push("/signIn");const a=localStorage.getItem("formData");a&&(t.value=JSON.parse(a),localStorage.removeItem("formData"))}));const n=async()=>{try{await h.A.post("changeSoldSituation",t.value),e.push("/home")}catch(n){console.error(n),401===n.response?.status?e.push("/signIn"):alert(n)}};return{soldier:t,saveSoldier:n}}};const X=(0,s.A)(F,[["render",U],["__scopeId","data-v-b37eee0c"]]);var R=X;const P={id:"header"},V={id:"table"},N=["onClick"];function x(e,t,n,a,r,l){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",P,[(0,o.Lk)("h1",null,(0,d.v_)(a.unitName),1),(0,o.Lk)("button",{class:"primary-btn",onClick:t[0]||(t[0]=e=>a.navigateTo("/home"))}," Add Services "),(0,o.Lk)("button",{class:"primary-btn",onClick:t[1]||(t[1]=(...t)=>e.deleteServices&&e.deleteServices(...t))},"Delete Services"),(0,o.Lk)("button",{class:"primary-btn",onClick:t[2]||(t[2]=e=>a.navigateTo("/home"))},"Back")]),(0,o.Lk)("div",V,[(0,o.Lk)("table",null,[(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.tableHeaders.slice(1),(e=>((0,o.uX)(),(0,o.CE)("th",{key:e},(0,d.v_)(e),1)))),128))])]),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.services,(t=>((0,o.uX)(),(0,o.CE)("tr",{key:t.id,onClick:n=>e.selectSoldier(t)},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.tableHeaders.slice(1),(e=>((0,o.uX)(),(0,o.CE)("td",{key:e},(0,d.v_)(t[e]),1)))),128))],8,N)))),128))])])])],64)}var J={setup(){const e=(0,c.rd)(),t=(0,m.KR)(""),n=(0,m.KR)([]),a=(0,m.KR)([]),r=async()=>{const n=localStorage.getItem("jwtToken");if(n)try{const e=await h.A.get("getNameOfUnit");t.value=e.data}catch(a){console.error(a),401===a.response?.status?e.push("/signIn"):alert(a)}else e.push("/signIn")},l=async()=>{const t=localStorage.getItem("jwtToken");if(t)try{const e=await h.A.get("getServices"),t=e.data;t.length&&(n.value=Object.keys(t[0]),a.value=t)}catch(o){console.error(o),401===o.response?.status?e.push("/signIn"):alert(o)}else e.push("/signIn")},s=t=>{e.push(t)};return(0,o.sV)((()=>{r(),l()})),{unitName:t,tableHeaders:n,services:a,navigateTo:s}}};const D=(0,s.A)(J,[["render",x],["__scopeId","data-v-243aa867"]]);var M=D;const q=(0,c.aE)({history:(0,c.LA)("/"),routes:[{path:"/home",name:"home",component:T},{path:"/signIn",name:"signIn",component:b},{path:"/soldierForm",name:"soldierForm",component:R},{path:"/servicesOfUnit",name:"servicesOfUnit",component:M},{path:"/:pathMatch(.*)*",redirect:"/home"}]});var W=q;const H=(0,a.Ef)(u),B={backEndUrl:"http://localhost:8080/"};H.provide("$config",B),h.A.defaults.baseURL=B.backEndUrl,h.A.defaults.headers["Content-Type"]="application/json",h.A.interceptors.request.use((e=>{const t=localStorage.getItem("jwtToken");return t&&!e.url.includes("/performLogin")&&(e.headers["Authorization"]=`Bearer ${t}`),e})),H.use(W),H.mount("#app")}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,a,o,r){if(!a){var l=1/0;for(c=0;c<e.length;c++){a=e[c][0],o=e[c][1],r=e[c][2];for(var s=!0,i=0;i<a.length;i++)(!1&r||l>=r)&&Object.keys(n.O).every((function(e){return n.O[e](a[i])}))?a.splice(i--,1):(s=!1,r<l&&(l=r));if(s){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[a,o,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,r,l=a[0],s=a[1],i=a[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(i)var c=i(n)}for(t&&t(a);u<l.length;u++)r=l[u],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(c)},a=self["webpackChunkweb_app_militaryservices_11"]=self["webpackChunkweb_app_militaryservices_11"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(3561)}));a=n.O(a)})();
//# sourceMappingURL=app.6a6718bb.js.map